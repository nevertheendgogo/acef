(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0af038c4"],{"0218":function(t,e,a){"use strict";var r=a("1ee7"),o=a.n(r);o.a},"0d59":function(t,e,a){"use strict";var r=a("ba1c"),o=a.n(r);o.a},"11e9":function(t,e,a){var r=a("52a7"),o=a("4630"),i=a("6821"),n=a("6a99"),s=a("69a8"),l=a("c69a"),c=Object.getOwnPropertyDescriptor;e.f=a("9e1e")?c:function(t,e){if(t=i(t),e=n(e,!0),l)try{return c(t,e)}catch(a){}if(s(t,e))return o(!r.f.call(t,e),t[e])}},"1ee7":function(t,e,a){},2423:function(t,e,a){"use strict";a.d(e,"i",function(){return n}),a.d(e,"e",function(){return s}),a.d(e,"c",function(){return l}),a.d(e,"f",function(){return c}),a.d(e,"a",function(){return u}),a.d(e,"h",function(){return p}),a.d(e,"g",function(){return d}),a.d(e,"j",function(){return m}),a.d(e,"d",function(){return f}),a.d(e,"b",function(){return g});var r=a("b775"),o=a("4328"),i=a.n(o);function n(t){return Object(r["a"])({url:"/aa/u",method:"post",data:t})}function s(t){return Object(r["a"])({url:"/aa/go",method:"get",params:{articleId:t}})}function l(t){return Object(r["a"])({url:"/aa/c",method:"put",data:t})}function c(t){var e=t.page,a=t.limit,o=t.part,i=t.language;return Object(r["a"])({url:"/aa/g",method:"get",params:{currentPage:e,pageSize:a,part:o,language:i}})}function u(t){return Object(r["a"])({url:"/aa/d/".concat(t),method:"delete"})}function p(t){var e=t.page,a=t.limit,o=t.part,i=t.language;return Object(r["a"])({url:"/oa/g",method:"get",params:{currentPage:e,pageSize:a,part:o,language:i}})}function d(t){return Object(r["a"])({url:"/oa/go",method:"get",params:{articleId:t}})}function m(t){return Object(r["a"])({url:"/oa/u",method:"post",data:i.a.stringify(t)})}function f(t){return Object(r["a"])({url:"/oa/c",method:"put",data:i.a.stringify(t)})}function g(t){return Object(r["a"])({url:"/oa/d/".concat(t),method:"delete"})}},"456d":function(t,e,a){var r=a("4bf8"),o=a("0d58");a("5eda")("keys",function(){return function(t){return o(r(t))}})},"5dbc":function(t,e,a){var r=a("d3f4"),o=a("8b97").set;t.exports=function(t,e,a){var i,n=e.constructor;return n!==a&&"function"==typeof n&&(i=n.prototype)!==a.prototype&&r(i)&&o&&o(t,i),t}},"5eda":function(t,e,a){var r=a("5ca1"),o=a("8378"),i=a("79e5");t.exports=function(t,e){var a=(o.Object||{})[t]||Object[t],n={};n[t]=e(a),r(r.S+r.F*i(function(){a(1)}),"Object",n)}},"8a24":function(t,e,a){"use strict";a.d(e,"b",function(){return o}),a.d(e,"a",function(){return i});var r=a("b775");function o(){return Object(r["a"])({url:"/img/gssoai?part=carselImg",method:"get"})}function i(t){return Object(r["a"])({url:"/img/dss".concat(t),method:"delete"})}},"8b97":function(t,e,a){var r=a("d3f4"),o=a("cb7c"),i=function(t,e){if(o(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{r=a("9b43")(Function.call,a("11e9").f(Object.prototype,"__proto__").set,2),r(t,[]),e=!(t instanceof Array)}catch(o){e=!0}return function(t,a){return i(t,a),e?t.__proto__=a:r(t,a),t}}({},!1):void 0),check:i}},9093:function(t,e,a){var r=a("ce10"),o=a("e11e").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,o)}},aa77:function(t,e,a){var r=a("5ca1"),o=a("be13"),i=a("79e5"),n=a("fdef"),s="["+n+"]",l="​",c=RegExp("^"+s+s+"*"),u=RegExp(s+s+"*$"),p=function(t,e,a){var o={},s=i(function(){return!!n[t]()||l[t]()!=l}),c=o[t]=s?e(d):n[t];a&&(o[a]=c),r(r.P+r.F*s,"String",o)},d=p.trim=function(t,e){return t=String(o(t)),1&e&&(t=t.replace(c,"")),2&e&&(t=t.replace(u,"")),t};t.exports=p},ba1c:function(t,e,a){},c5f6:function(t,e,a){"use strict";var r=a("7726"),o=a("69a8"),i=a("2d95"),n=a("5dbc"),s=a("6a99"),l=a("79e5"),c=a("9093").f,u=a("11e9").f,p=a("86cc").f,d=a("aa77").trim,m="Number",f=r[m],g=f,h=f.prototype,v=i(a("2aeb")(h))==m,y="trim"in String.prototype,b=function(t){var e=s(t,!1);if("string"==typeof e&&e.length>2){e=y?e.trim():d(e,3);var a,r,o,i=e.charCodeAt(0);if(43===i||45===i){if(a=e.charCodeAt(2),88===a||120===a)return NaN}else if(48===i){switch(e.charCodeAt(1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return+e}for(var n,l=e.slice(2),c=0,u=l.length;c<u;c++)if(n=l.charCodeAt(c),n<48||n>o)return NaN;return parseInt(l,r)}}return+e};if(!f(" 0o1")||!f("0b1")||f("+0x1")){f=function(t){var e=arguments.length<1?0:t,a=this;return a instanceof f&&(v?l(function(){h.valueOf.call(a)}):i(a)!=m)?n(new g(b(e)),a,f):b(e)};for(var _,F=a("9e1e")?c(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),w=0;F.length>w;w++)o(g,_=F[w])&&!o(f,_)&&p(f,_,u(g,_));f.prototype=h,h.constructor=f,a("2aba")(r,m,f)}},f722:function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"createPost-container"},[a("el-form",{ref:"postForm",staticClass:"form-container",attrs:{model:t.postForm,rules:t.rules}},[a("sticky",{attrs:{"z-index":10,className:"sub-navbar"}},[a("CommentDropdown",{model:{value:t.postForm.language,callback:function(e){t.$set(t.postForm,"language",e)},expression:"postForm.language"}}),t._v(" "),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{loading:t.loading,type:"success"},on:{click:t.submitForm}},[t._v("\n        发表\n      ")]),t._v(" "),a("el-button",{attrs:{disabled:t.isEdit,loading:t.loading,type:"warning"},on:{click:function(e){return t.resetForm("postForm")}}},[t._v("\n        重置\n      ")])],1),t._v(" "),a("div",{staticClass:"createPost-main-container"},[a("el-row",[a("Warning"),t._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{staticStyle:{"margin-bottom":"40px"},attrs:{prop:"title"}},[a("MDinput",{attrs:{maxlength:100,name:"name",required:""},model:{value:t.postForm.title,callback:function(e){t.$set(t.postForm,"title",e)},expression:"postForm.title"}},[t._v("\n              标题\n            ")])],1),t._v(" "),a("div",{staticClass:"postInfo-container"},[a("el-row",[a("el-col",{attrs:{span:7}},[a("el-form-item",{staticStyle:{"margin-bottom":"40px"},attrs:{prop:"author","label-width":"70px",label:"组织者："}},[a("el-input",{staticClass:"article-textarea",attrs:{rows:1,type:"textarea",autosize:"",placeholder:"请输入组织者"},model:{value:t.postForm.author,callback:function(e){t.$set(t.postForm,"author",e)},expression:"postForm.author"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:7}},[a("el-form-item",{staticClass:"postInfo-container-item",attrs:{"label-width":"120px",prop:"displayTime",label:"发表时间："}},[a("el-date-picker",{attrs:{type:"date","value-format":"yyyy-MM-dd",format:"yyyy-MM-dd",placeholder:"发表时间"},model:{value:t.postForm.displayTime,callback:function(e){t.$set(t.postForm,"displayTime",e)},expression:"postForm.displayTime"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:7}},[a("el-form-item",{staticClass:"postInfo-container-item",attrs:{"label-width":"120px",prop:"activityTime",label:"活动时间："}},[a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","value-format":"yyyy-MM-dd",format:"yyyy-MM-dd","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.postForm.activityTime,callback:function(e){t.$set(t.postForm,"activityTime",e)},expression:"postForm.activityTime"}})],1)],1)],1)],1)],1)],1),t._v(" "),a("el-form-item",{staticStyle:{"margin-bottom":"30px"},attrs:{prop:"content"}},[a("Tinymce",{ref:"editor",attrs:{articleId:t.postForm.articleId,height:400},model:{value:t.postForm.content,callback:function(e){t.$set(t.postForm,"content",e)},expression:"postForm.content"}})],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{staticStyle:{"margin-bottom":"30px",width:"300px"},attrs:{label:"图片上传",prop:"filePic"}},[a("el-upload",{ref:"uploadPic",staticClass:"upload-demo",attrs:{action:"abc","list-type":"picture",multiple:!1,limit:1,"auto-upload":!1}},[a("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[t._v("选取文件")]),t._v(" "),a("div",{staticClass:"el-upload__tip",staticStyle:{color:"red"},attrs:{slot:"tip"},slot:"tip"},[t._v("只能1个上传jpg/png文件，且不超过10M")])],1)],1)],1),t._v(" "),a("el-col",{attrs:{span:8,offset:1}},[a("el-form-item",{staticStyle:{"margin-bottom":"30px",width:"300px"},attrs:{label:"报名表上传",prop:"fileForm"}},[a("el-upload",{ref:"uploadForm",staticClass:"upload-demo",attrs:{action:"abc","list-type":"picture",multiple:!1,limit:1,"auto-upload":!1}},[a("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[t._v("选取文件")]),t._v(" "),a("div",{staticClass:"el-upload__tip",staticStyle:{color:"red"},attrs:{slot:"tip"},slot:"tip"},[t._v("只能1个上传文件")])],1)],1)],1)],1)],1)],1)],1)},o=[],i=a("8256"),n=a("1aba"),s=a("b804"),l=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},c=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("article",[a("h1",[t._v("注意事项")]),t._v(" "),a("ol",[a("li",[t._v("富文本中的蓝色upload按钮是选择插入文章的本地图片")]),t._v(" "),a("li",[t._v("本地图片想插入文章必须通过蓝色upload按钮插入，直接复制粘贴没有用")]),t._v(" "),a("li",[t._v("富文本中的内容可以在别的网页直接复制过来，会保留复制的格式")]),t._v(" "),a("li",[t._v("必须要上传一张图片，如果发表文章是一张图片，就要把图片先插入富文本，再上传这张图片")]),t._v(" "),a("li",[t._v("报名表可以不上传")]),t._v(" "),a("li",{staticStyle:{color:"red"}},[a("strong",[t._v("如果是修改编辑文章的状态下，每次修改之后都要重新上传对应的海报或海报和报名表")])]),t._v(" "),a("li",{staticStyle:{color:"red"}},[a("strong",[t._v("如果是修改编辑文章的状态下，出现刷新报网络错误，请退出页面返回列表重新通过编辑按钮进入当前编辑页面")])])])])}],u=(a("0218"),a("2877")),p={},d=Object(u["a"])(p,l,c,!1,null,"456ed8ca",null),m=d.exports,f=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dropdown",{attrs:{"show-timeout":100,trigger:"click"}},[a("el-button",{attrs:{plain:""}},[t._v("\n    "+t._s("Chinese"===t.language?"中文":"法文")+"\n    "),a("i",{staticClass:"el-icon-caret-bottom el-icon--right"})]),t._v(" "),a("el-dropdown-menu",{staticClass:"no-padding",attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",[a("el-radio-group",{staticStyle:{padding:"10px"},model:{value:t.language,callback:function(e){t.language=e},expression:"language"}},[a("el-radio",{attrs:{label:"Chinese"}},[t._v("\n          中文\n        ")]),t._v(" "),a("el-radio",{attrs:{label:"French"}},[t._v("\n          法文\n        ")])],1)],1)],1)],1)},g=[],h={props:{value:{type:String,default:"Chinese"}},computed:{language:{get:function(){return this.value},set:function(t){this.$emit("input",t)}}}},v=h,y=Object(u["a"])(v,f,g,!1,null,null,null),b=y.exports,_=a("2423"),F={title:"",author:"",content:"",displayTime:"",activityTime:"",articleId:void 0,language:"Chinese"},w={name:"ArticleDetail",components:{Tinymce:i["a"],MDinput:n["a"],Sticky:s["a"],Warning:m,CommentDropdown:b},props:{isEdit:{type:Boolean,default:!1}},data:function(){var t=this,e=function(e,a,r){""==a?(t.$message({message:e.field+"为必传项",type:"error"}),r(new Error(e.field+"为必传项"))):r()};return{formdata:new FormData,postForm:Object.assign({},F),loading:!1,part:"",rules:{title:[{validator:e,trigger:"blur"}],author:[{validator:e,trigger:"blur"}],displayTime:[{validator:e,trigger:"blur"}],activityTime:[{validator:e,trigger:"blur"}],content:[{validator:e}],filePic:[{validator:e,required:!0}]}}},computed:{},created:function(){this.isEdit?(this.postForm.articleId=+this.$route.params.id,this.getArticle()):(this.postForm.articleId=+new Date,this.part=this.$route.meta.path.part)},mounted:function(){},methods:{getArticle:function(){var t=this;Object(_["e"])(this.postForm.articleId).then(function(e){t.postForm.content=e.data.content,t.$refs.editor.setContent(e.data.content),t.postForm.articleId=+e.data.articleId,t.postForm.title=e.data.title,t.postForm.author=e.data.author,t.postForm.displayTime=e.data.displayTime,t.postForm.activityTime=[e.data.activityStartTime,e.data.activityEndTime],t.postForm.language=e.data.language}).catch(function(e){console.log(e),t.$message.error("网络错误，请稍后刷新")})},resetForm:function(t){this.$refs[t].resetFields(),this.$refs.uploadPic.uploadFiles=[],this.$refs.uploadForm.uploadFiles=[],this.$refs.editor.setContent(""),this.postForm.articleId=+new Date,this.formdata=new FormData},upLoad:function(){var t=this,e=null,a=null;if(0===this.$refs.uploadPic.uploadFiles.length)return this.$message.error("请上传图片"),void(this.loading=!1);e=this.$refs.uploadPic.uploadFiles[0].raw,this.$refs.uploadForm.uploadFiles[0]&&(a=this.$refs.uploadForm.uploadFiles[0].raw);var r=this.postForm;for(var o in r)this.formdata.append(o,r[o]);this.beforeUpload(e)&&(this.formdata.append("poster",e),a&&this.formdata.append("entryForm",a),this.isEdit?Object(_["c"])(this.formdata).then(function(e){1==e.data.result?(t.$notify({title:"成功",message:"修改文章成功",type:"success",duration:2e3}),t.loading=!1,t.$router.go(-1)):(t.$notify({title:"错误",message:"网络错误,请稍后重试",type:"error",duration:2e3}),t.loading=!1)}).catch(function(e){t.$notify({title:"错误",message:"网络错误,请稍后重试",type:"error",duration:2e3}),t.loading=!1}):(this.formdata.append("part",this.part),Object(_["i"])(this.formdata).then(function(e){1==e.data.result?(t.$notify({title:"成功",message:"发布文章成功",type:"success",duration:2e3}),t.loading=!1,t.resetForm("postForm")):(t.$notify({title:"错误",message:"网络错误,请稍后重试",type:"error",duration:2e3}),t.loading=!1,t.formdata=new FormData)}).catch(function(e){t.$notify({title:"错误",message:"网络错误，请稍后重试",type:"error",duration:2e3}),t.loading=!1,t.formdata=new FormData})))},submitForm:function(){var t=this;this.$refs.postForm.validate(function(e){if(!e)return!1;t.loading=!0,t.upLoad()})},beforeUpload:function(t){var e="image/jpeg"===t.type||"image/png"===t.type,a=t.size/1024/1024<10;return e||this.$message.error("上传图片只能是 JPG 或 PNG 格式!"),a||this.$message.error("上传图片大小不能超过 10MB!"),e&&a},handleSuccess:function(t,e){this.$message.success("保存成功"),this.resetForm("form")},handleError:function(t,e){this.$message.error("保存失败，请稍后重试")}}},$=w,x=(a("0d59"),Object(u["a"])($,r,o,!1,null,"78f41c13",null));e["a"]=x.exports},fdef:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);