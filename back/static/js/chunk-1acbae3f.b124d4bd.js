(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1acbae3f"],{"3f40":function(e,t,r){},"4a31":function(e,t,r){"use strict";var i=r("3f40"),o=r.n(i);o.a},"75f6":function(e,t,r){"use strict";r.r(t);var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("linkDetail")},o=[],l=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"app-container"},[r("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"120px"}},[r("el-form-item",{attrs:{label:"网站名字",prop:"description"}},[r("el-input",{model:{value:e.form.description,callback:function(t){e.$set(e.form,"description",t)},expression:"form.description"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"链接",prop:"link"}},[r("el-input",{model:{value:e.form.link,callback:function(t){e.$set(e.form,"link",t)},expression:"form.link"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"上传图片",prop:"picture"}},[r("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{action:"/acef/fl/u",name:"picture","on-success":e.handleSuccess,"on-error":e.handleError,data:{description:e.form.description,link:e.form.link},"before-upload":e.beforeUpload,"list-type":"picture-card","file-list":e.fileList,limit:1,multiple:!1,"auto-upload":!1}},[r("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[e._v("选取文件")]),e._v(" "),r("div",{staticClass:"el-upload__tip",staticStyle:{color:"red"},attrs:{slot:"tip"},slot:"tip"},[e._v("只能1个上传jpg/png文件，且不超过10M")])],1)],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{loading:e.loading,type:"primary"},on:{click:function(t){return e.submitForm("form")}}},[e._v("保存")]),e._v(" "),r("el-button",{on:{click:function(t){return e.resetForm("form")}}},[e._v("重置")])],1)],1)],1)},s=[],n={data:function(){var e=this,t=function(t,r,i){""==r?(e.$message({message:t.field+"为必传项",type:"error"}),i(new Error(t.field+"为必传项"))):i()};return{fileList:[],loading:!1,form:{description:"",link:""},rules:{description:[{validator:t,trigger:"blur"}],link:[{validator:t,trigger:"blur"}],picture:[{validator:t}]}}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;t.loading=!0,t.$refs.upload.submit()})},resetForm:function(e){this.$refs[e].resetFields(),this.$refs.upload.clearFiles()},beforeUpload:function(e){var t="image/jpeg"===e.type||"image/png"===e.type,r=e.size/1024/1024<10;return t||this.$message.error("上传头像图片只能是 JPG 或 PNG 格式!"),r||this.$message.error("上传头像图片大小不能超过 10MB!"),t&&r||(this.loading=!1),t&&r},handleSuccess:function(e,t){this.loading=!1,this.$message.success("保存成功"),this.resetForm("form")},handleError:function(e,t){this.loading=!1,this.$message.error("保存失败，请稍后重试")}},created:function(){}},a=n,c=(r("4a31"),r("2877")),u=Object(c["a"])(a,l,s,!1,null,"08f01a12",null),f=u.exports,p={name:"CreateForm",components:{linkDetail:f}},m=p,d=Object(c["a"])(m,i,o,!1,null,null,null);t["default"]=d.exports}}]);