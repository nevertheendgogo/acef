(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5f023b5e"],{"0036":function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"uploadContainer"},[i("el-upload",{ref:"upload",attrs:{action:"/acef/img/ussoai","list-type":"picture-card",name:"slideshows","file-list":e.fileList,"auto-upload":!1,data:{part:"carselImg"},limit:11,"before-remove":e.handleBeforeRemove,"on-change":e.handleChange,"on-preview":e.handlePictureCardPreview,"on-exceed":e.handleExceed,"on-error":e.handleError,"on-success":e.handleSuccess}},[i("i",{staticClass:"el-icon-plus"})]),e._v(" "),i("el-button",{staticStyle:{margin:"25px 0 25px 0"},attrs:{size:"large",type:"primary"},on:{click:e.Submit}},[e._v("点击上传")]),e._v(" "),i("div",{staticClass:"el-upload__tip",staticStyle:{color:"red","font-size":"25px"},attrs:{slot:"tip"},slot:"tip"},[e._v("*最少上传7张图片，最多上传11张图片")]),e._v(" "),i("el-dialog",{attrs:{visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[i("img",{attrs:{width:"100%",src:e.dialogImageUrl,alt:""}})])],1)},a=[],n=i("8a24"),l={data:function(){return{dialogImageUrl:"",dialogVisible:!1,count:[],fileList:[],part:null}},methods:{getAllCarsousel:function(){var e=this;Object(n["b"])().then(function(t){e.fileList=t.data})},Submit:function(){if(this.count.length<7&&this.fileList.length<7)return this.$message({message:"当前图片数量小于七张",type:"error"}),!1;this.$refs.upload.submit(),this.$message({message:"上传成功",type:"success"})},handleBeforeRemove:function(e,t){var i=this;if(!(t.length>7))return this.$message({message:"删除失败，当前图片小于6张，请先上传在删除",type:"error"}),!1;var s="?";s+="id="+e.id+"&url="+e.url,Object(n["a"])(s).then(function(){i.$message({message:"删除成功",type:"success"})})},handlePictureCardPreview:function(e){this.dialogImageUrl=e.url,this.dialogVisible=!0},handleChange:function(e,t){this.count=t,this.fileList=t},handleExceed:function(e,t){this.$message.warning("当前限制最多上传 11 个文件，现已有 ".concat(t.length," 个文件"))},handleError:function(){this.$message({message:"上传失败，网络请求错误",type:"error"})},handleSuccess:function(){this.getAllCarsousel()}},created:function(){this.getAllCarsousel()}},r=l,o=i("2877"),c=Object(o["a"])(r,s,a,!1,null,"4a2b9389",null);t["default"]=c.exports},"8a24":function(e,t,i){"use strict";i.d(t,"b",function(){return a}),i.d(t,"a",function(){return n});var s=i("b775");function a(){return Object(s["a"])({url:"/img/gssoai?part=carselImg",method:"get"})}function n(e){return Object(s["a"])({url:"/img/dss".concat(e),method:"delete"})}}}]);